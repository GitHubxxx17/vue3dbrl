import{ah as E,a as $,D as B,_ as V,$ as v,b as r,c as d,ai as T,d as t,u as i,p as b,h as k,Z as I,w as P,v as R,r as w,o as F,U as S,m as N,V as j,T as A,i as H,t as C,a1 as U,a2 as f,F as q,e as z}from"./index-deb0c6b3.js";import{u as O}from"./index-2d95e8ea.js";import{u as Z,S as G}from"./useDebounce-fa85f4a9.js";function Ee(){const n=$({show:!1}),c=a=>{n.show=a},e=a=>{B(n,a,{transitionAppear:!0}),c(!0)},l=()=>c(!1);return O({open:e,close:l,toggle:c}),{open:e,close:l,state:n,toggle:c}}function Be(n){const c=E(n),e=document.createElement("div");return document.body.appendChild(e),{instance:c.mount(e),unmount(){c.unmount(),document.body.removeChild(e)}}}const L=n=>(b("data-v-bd23b544"),n=n(),k(),n),J={class:"search"},K=L(()=>t("input",{type:"text"},null,-1)),Q=L(()=>t("button",null,[t("span",{class:"icon iconfont icon-sousuo3"})],-1)),W=[K,Q],X={__name:"ClickSearch",setup(n){const e=v().searchData;return(l,a)=>(r(),d("div",J,[T(l.$slots,"default",{},void 0,!0),t("div",{class:"searchBar",onClick:a[0]||(a[0]=_=>i(e).isSearch=!0)},W)]))}},Pe=V(X,[["__scopeId","data-v-bd23b544"]]),Y="/static/png/搜索不到信息-1e0314bd.png";const ee=n=>(b("data-v-bd1ce75d"),n=n(),k(),n),se={class:"search"},ae={class:"searchBar"},te=ee(()=>t("span",{class:"icon iconfont icon-sousuo3"},null,-1)),oe=[te],ne={__name:"Search",setup(n){const c=I();let l=v().searchData;async function a(u,o,s){let h=(await G(u,o,s)).data.msg.data;l.modelData=h.modleList||[],l.isSuccess=h.searchModle}const _=Z(u=>{let o=1;l.isMemory&&(o=0),a(l.searchValue,o,c.user.token)},300);return(u,o)=>(r(),d("div",se,[T(u.$slots,"default",{},void 0,!0),t("div",ae,[P(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>i(l).searchValue=s)},null,512),[[R,i(l).searchValue]]),t("button",{onClick:o[1]||(o[1]=s=>i(_)(s))},oe)])]))}},ce=V(ne,[["__scopeId","data-v-bd1ce75d"]]);const le={class:"tp_inner"},ie={class:"modleId"},re={class:"content"},de={class:"bottom_box"},ue={class:"tip"},_e={class:"date"},pe={class:"label"},he=t("span",{class:"iconfont icon-shuqianguanli"},null,-1),me=t("div",{class:"common"},null,-1),fe={__name:"SearchLi",props:["liData"],setup(n){let e=n.liData,a=v().searchData,_=w(null).value,u=w(null).value,o="";for(let s=0;s<a.searchValue.length;s++){if(a.searchValue[s]==" "||a.searchValue[s]==".")continue;let p=new RegExp(`${a.searchValue[s]}`,"gi"),h=new RegExp('<span class="searched">',"gi"),m=new RegExp("</span>","gi"),x=new RegExp("m","gi"),M=new RegExp("k","gi"),y=!1;(a.searchValue[s]=="s"||a.searchValue[s]=="p"||a.searchValue[s]=="a"||a.searchValue[s]=="n"||a.searchValue[s]=="c"||a.searchValue[s]=="l"||a.searchValue[s]=="e"||a.searchValue[s]=="r"||a.searchValue[s]=="h"||a.searchValue[s]=="d"||a.searchValue[s]==">"||a.searchValue[s]=="<"||a.searchValue[s]=="/")&&(e.modleTitle.indexOf('<span class="searched">')&&console.log("sdgsdgs"),o=e.modleTitle.replace(h,"m"),o=o.replace(m,"k"),y=!0),y?(o=o.replace(p,D=>`<span class="searched">${D}</span>`),o=o.replace(x,'<span class="searched">'),o=o.replace(M,"</span>"),y=!1):o=e.modleTitle.replace(p,D=>`<span class="searched">${D}</span>`),e.modleTitle=o}return F(()=>{u.innerHTML=e.modleTitle,_.innerHTML=e.content}),(s,p)=>(r(),d("div",le,[t("div",ie,S(i(e).modleId),1),t("div",re,[t("h3",{class:"title ellipsis",ref_key:"modelTitle",ref:u},null,512)]),t("div",de,[t("div",{class:"info ellipsis",ref_key:"modleInfo",ref:_},null,512),t("div",ue,[t("div",_e,S(i(e).createTime),1),t("div",pe,[he,t("span",null,S(i(e).modleLabel),1)])])]),me]))}};const g=n=>(b("data-v-ef0005d1"),n=n(),k(),n),ve={class:"search_page",style:{display:"block"}},ge=g(()=>t("span",{class:"icon iconfont icon-xiangzuojiantou"},null,-1)),ye=[ge],De={class:"container"},Se=g(()=>t("div",{id:"paragraph"},null,-1)),$e={key:0,class:"empty"},Ve=g(()=>t("img",{src:Y,alt:""},null,-1)),be={key:0,class:"personal_empty"},ke={key:1,class:"community_empty"},xe={key:1,class:"search_lis"},we=["onClick"],Ce=g(()=>t("footer",null,null,-1)),Te={__name:"SearchPage",setup(n){$([]);const c=v();let e=c.searchData;I();let l=N(),a=j(),_=A();H(()=>e.modelData,()=>{c.changeLabel()});function u(){e.isSearch=!1,setTimeout(()=>{e.searchValue="",e.isSuccess=!0,e.modelData=[]},200)}function o(s){e.isMemory?(_.LearningPageIsShow=!0,a.curTp=$(c.searchData.modelData[s])):(c.showLi.show=!0,c.showLi.curFlash=c.searchData.modelData[s])}return(s,p)=>(r(),d("div",ve,[t("header",null,[C(ce,null,{default:U(()=>[t("div",{class:"header_left",onClick:p[0]||(p[0]=h=>u())},ye)]),_:1})]),t("div",De,[Se,i(e).isSuccess?f("",!0):(r(),d("div",$e,[Ve,i(l).isMemory?(r(),d("p",be," 没有此资源,请去模板社区找找看 ")):f("",!0),i(l).isMemory?f("",!0):(r(),d("p",ke,"暂无此资源"))])),i(e).isSuccess?(r(),d("ul",xe,[(r(!0),d(q,null,z(i(e).modelData,(h,m)=>(r(),d("li",{class:"baseLis_fadeIn",key:m,onClick:x=>o(m)},[C(fe,{liData:h},null,8,["liData"])],8,we))),128)),Ce])):f("",!0)])]))}},Re=V(Te,[["__scopeId","data-v-ef0005d1"]]);export{Pe as C,Re as S,Be as m,Ee as u};
